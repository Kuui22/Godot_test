[gd_resource type="BehaviorTree" load_steps=14 format=3 uid="uid://c6lrg7ysnldsd"]

[ext_resource type="Script" path="res://ai/tasks/random_position.gd" id="1_pwej3"]
[ext_resource type="Script" path="res://ai/tasks/move_to_position.gd" id="2_k3kri"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_x3i2o"]

[sub_resource type="BBVariant" id="BBVariant_uiujy"]
type = 1
saved_value = false
resource_name = "false"

[sub_resource type="BTCheckAgentProperty" id="BTCheckAgentProperty_t2wi7"]
property = &"has_target"
check_type = 2
value = SubResource("BBVariant_uiujy")

[sub_resource type="BTAction" id="BTAction_nh40a"]
script = ExtResource("1_pwej3")
min_range = 400.0
max_range = 1000.0
target_position = &"pos"

[sub_resource type="BTAction" id="BTAction_gc10g"]
script = ExtResource("2_k3kri")
target_position_var = &"pos"
speed = 300.0
tolerance = 10.0

[sub_resource type="BTRandomWait" id="BTRandomWait_37c5b"]
max_duration = 3.0

[sub_resource type="BTSequence" id="BTSequence_wjit8"]
custom_name = "Idle sequence"
children = [SubResource("BTRandomWait_37c5b")]

[sub_resource type="BTSequence" id="BTSequence_wcaji"]
custom_name = "RandomMoveSequence"
children = [SubResource("BTCheckAgentProperty_t2wi7"), SubResource("BTAction_nh40a"), SubResource("BTAction_gc10g"), SubResource("BTSequence_wjit8")]

[sub_resource type="BTSequence" id="BTSequence_effsn"]
custom_name = "MoveToEnemy"

[sub_resource type="BTConsolePrint" id="BTConsolePrint_niuhv"]
text = "dio cane"

[sub_resource type="BTSelector" id="BTSelector_3i3vf"]
children = [SubResource("BTSequence_wcaji"), SubResource("BTSequence_effsn"), SubResource("BTConsolePrint_niuhv")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_x3i2o")
root_task = SubResource("BTSelector_3i3vf")
